3914777fd4f7fa4f9ea3407a652fcaac
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const localStorageManager_1 = require("./localStorageManager");
const createStorageManager = () => {
    return new localStorageManager_1.LocalStorageManager();
};
describe('LocalStorageManager', () => {
    it('should set value', () => {
        const person = { name: 'ewan', phone: { num: 5550153, prefix: 288 } };
        const spy = jest.spyOn(localStorage, 'setItem').mockImplementation(() => { });
        const storageManager = createStorageManager();
        const response = storageManager.setValue('key', person);
        expect(spy).toHaveBeenCalledWith('key', JSON.stringify(person));
        expect(response).toEqual(person);
    });
    it('should get value', () => {
        const spy = jest.spyOn(localStorage, 'getItem').mockImplementation(() => '{ "name": "ewan" }');
        const storageManager = createStorageManager();
        const value = storageManager.getValue('key');
        expect(spy).toHaveBeenCalledWith('key');
        expect(value).toEqual({ name: 'ewan' });
    });
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJmaWxlIjoiL2hvbWUvc3RlZmFuL0RvY3VtZW50cy9wcm9qZWN0cy9Ib0Evc3RvcmFnZS9wcm9qZWN0cy9uZ25lYXQvc3RvcmFnZS9zcmMvbGliL2xvY2FsU3RvcmFnZU1hbmFnZXIuc3BlYy50cyIsIm1hcHBpbmdzIjoiOztBQUFBLCtEQUE0RDtBQVU1RCxNQUFNLG9CQUFvQixHQUFHLEdBQUcsRUFBRTtJQUNoQyxPQUFPLElBQUkseUNBQW1CLEVBQVUsQ0FBQztBQUMzQyxDQUFDLENBQUM7QUFFRixRQUFRLENBQUMscUJBQXFCLEVBQUUsR0FBRyxFQUFFO0lBQ25DLEVBQUUsQ0FBQyxrQkFBa0IsRUFBRSxHQUFHLEVBQUU7UUFDMUIsTUFBTSxNQUFNLEdBQUcsRUFBRSxJQUFJLEVBQUUsTUFBTSxFQUFFLEtBQUssRUFBRSxFQUFFLEdBQUcsRUFBRSxPQUFPLEVBQUUsTUFBTSxFQUFFLEdBQUcsRUFBRSxFQUFFLENBQUM7UUFDdEUsTUFBTSxHQUFHLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxZQUFZLEVBQUUsU0FBUyxDQUFDLENBQUMsa0JBQWtCLENBQUMsR0FBRyxFQUFFLEdBQUUsQ0FBQyxDQUFDLENBQUM7UUFDN0UsTUFBTSxjQUFjLEdBQUcsb0JBQW9CLEVBQUUsQ0FBQztRQUM5QyxNQUFNLFFBQVEsR0FBRyxjQUFjLENBQUMsUUFBUSxDQUFDLEtBQUssRUFBRSxNQUFNLENBQUMsQ0FBQztRQUN4RCxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUMsb0JBQW9CLENBQUMsS0FBSyxFQUFFLElBQUksQ0FBQyxTQUFTLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQztRQUNoRSxNQUFNLENBQUMsUUFBUSxDQUFDLENBQUMsT0FBTyxDQUFDLE1BQU0sQ0FBQyxDQUFDO0lBQ25DLENBQUMsQ0FBQyxDQUFDO0lBRUgsRUFBRSxDQUFDLGtCQUFrQixFQUFFLEdBQUcsRUFBRTtRQUMxQixNQUFNLEdBQUcsR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDLFlBQVksRUFBRSxTQUFTLENBQUMsQ0FBQyxrQkFBa0IsQ0FBQyxHQUFHLEVBQUUsQ0FBQyxvQkFBb0IsQ0FBQyxDQUFDO1FBQy9GLE1BQU0sY0FBYyxHQUFHLG9CQUFvQixFQUFFLENBQUM7UUFDOUMsTUFBTSxLQUFLLEdBQUcsY0FBYyxDQUFDLFFBQVEsQ0FBQyxLQUFLLENBQUMsQ0FBQztRQUM3QyxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUMsb0JBQW9CLENBQUMsS0FBSyxDQUFDLENBQUM7UUFDeEMsTUFBTSxDQUFDLEtBQUssQ0FBQyxDQUFDLE9BQU8sQ0FBQyxFQUFFLElBQUksRUFBRSxNQUFNLEVBQUUsQ0FBQyxDQUFDO0lBQzFDLENBQUMsQ0FBQyxDQUFDO0FBQ0wsQ0FBQyxDQUFDLENBQUMiLCJuYW1lcyI6W10sInNvdXJjZXMiOlsiL2hvbWUvc3RlZmFuL0RvY3VtZW50cy9wcm9qZWN0cy9Ib0Evc3RvcmFnZS9wcm9qZWN0cy9uZ25lYXQvc3RvcmFnZS9zcmMvbGliL2xvY2FsU3RvcmFnZU1hbmFnZXIuc3BlYy50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBMb2NhbFN0b3JhZ2VNYW5hZ2VyIH0gZnJvbSBcIi4vbG9jYWxTdG9yYWdlTWFuYWdlclwiO1xuXG50eXBlIFBlcnNvbiA9IHtcbiAgbmFtZTogc3RyaW5nO1xuICBwaG9uZToge1xuICAgIG51bTogbnVtYmVyO1xuICAgIHByZWZpeDogbnVtYmVyO1xuICB9O1xufTtcblxuY29uc3QgY3JlYXRlU3RvcmFnZU1hbmFnZXIgPSAoKSA9PiB7XG4gIHJldHVybiBuZXcgTG9jYWxTdG9yYWdlTWFuYWdlcjxQZXJzb24+KCk7XG59O1xuXG5kZXNjcmliZSgnTG9jYWxTdG9yYWdlTWFuYWdlcicsICgpID0+IHtcbiAgaXQoJ3Nob3VsZCBzZXQgdmFsdWUnLCAoKSA9PiB7XG4gICAgY29uc3QgcGVyc29uID0geyBuYW1lOiAnZXdhbicsIHBob25lOiB7IG51bTogNTU1MDE1MywgcHJlZml4OiAyODggfSB9O1xuICAgIGNvbnN0IHNweSA9IGplc3Quc3B5T24obG9jYWxTdG9yYWdlLCAnc2V0SXRlbScpLm1vY2tJbXBsZW1lbnRhdGlvbigoKSA9PiB7fSk7XG4gICAgY29uc3Qgc3RvcmFnZU1hbmFnZXIgPSBjcmVhdGVTdG9yYWdlTWFuYWdlcigpO1xuICAgIGNvbnN0IHJlc3BvbnNlID0gc3RvcmFnZU1hbmFnZXIuc2V0VmFsdWUoJ2tleScsIHBlcnNvbik7XG4gICAgZXhwZWN0KHNweSkudG9IYXZlQmVlbkNhbGxlZFdpdGgoJ2tleScsIEpTT04uc3RyaW5naWZ5KHBlcnNvbikpO1xuICAgIGV4cGVjdChyZXNwb25zZSkudG9FcXVhbChwZXJzb24pO1xuICB9KTtcblxuICBpdCgnc2hvdWxkIGdldCB2YWx1ZScsICgpID0+IHtcbiAgICBjb25zdCBzcHkgPSBqZXN0LnNweU9uKGxvY2FsU3RvcmFnZSwgJ2dldEl0ZW0nKS5tb2NrSW1wbGVtZW50YXRpb24oKCkgPT4gJ3sgXCJuYW1lXCI6IFwiZXdhblwiIH0nKTtcbiAgICBjb25zdCBzdG9yYWdlTWFuYWdlciA9IGNyZWF0ZVN0b3JhZ2VNYW5hZ2VyKCk7XG4gICAgY29uc3QgdmFsdWUgPSBzdG9yYWdlTWFuYWdlci5nZXRWYWx1ZSgna2V5Jyk7XG4gICAgZXhwZWN0KHNweSkudG9IYXZlQmVlbkNhbGxlZFdpdGgoJ2tleScpO1xuICAgIGV4cGVjdCh2YWx1ZSkudG9FcXVhbCh7IG5hbWU6ICdld2FuJyB9KTtcbiAgfSk7XG59KTtcbiJdLCJ2ZXJzaW9uIjozfQ==