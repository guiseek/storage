3c1ff8bec8be48abc6e3bc39d50210de
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const sessionStorageManager_1 = require("./sessionStorageManager");
const createStorageManager = () => {
    return new sessionStorageManager_1.SessionStorageManager();
};
describe('SessionStorageManager', () => {
    it('should set value', () => {
        const person = { name: 'ewan', phone: { num: 5550153, prefix: 288 } };
        const spy = jest.spyOn(sessionStorage, 'setItem').mockImplementation(() => { });
        const storageManager = createStorageManager();
        const response = storageManager.setValue('key', person);
        expect(spy).toHaveBeenCalledWith('key', JSON.stringify(person));
        expect(response).toEqual(person);
    });
    it('should get value', () => {
        const spy = jest.spyOn(sessionStorage, 'getItem').mockImplementation(() => '{ "name": "ewan" }');
        const storageManager = createStorageManager();
        const value = storageManager.getValue('key');
        expect(spy).toHaveBeenCalledWith('key');
        expect(value).toEqual({ name: 'ewan' });
    });
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJmaWxlIjoiL2hvbWUvc3RlZmFuL0RvY3VtZW50cy9wcm9qZWN0cy9Ib0Evc3RvcmFnZS9wcm9qZWN0cy9uZ25lYXQvc3RvcmFnZS9zcmMvbGliL3Nlc3Npb25TdG9yYWdlTWFuYWdlci5zcGVjLnRzIiwibWFwcGluZ3MiOiI7O0FBQUEsbUVBQWdFO0FBVWhFLE1BQU0sb0JBQW9CLEdBQUcsR0FBRyxFQUFFO0lBQ2hDLE9BQU8sSUFBSSw2Q0FBcUIsRUFBVSxDQUFDO0FBQzdDLENBQUMsQ0FBQztBQUVGLFFBQVEsQ0FBQyx1QkFBdUIsRUFBRSxHQUFHLEVBQUU7SUFDckMsRUFBRSxDQUFDLGtCQUFrQixFQUFFLEdBQUcsRUFBRTtRQUMxQixNQUFNLE1BQU0sR0FBRyxFQUFFLElBQUksRUFBRSxNQUFNLEVBQUUsS0FBSyxFQUFFLEVBQUUsR0FBRyxFQUFFLE9BQU8sRUFBRSxNQUFNLEVBQUUsR0FBRyxFQUFFLEVBQUUsQ0FBQztRQUN0RSxNQUFNLEdBQUcsR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDLGNBQWMsRUFBRSxTQUFTLENBQUMsQ0FBQyxrQkFBa0IsQ0FBQyxHQUFHLEVBQUUsR0FBRSxDQUFDLENBQUMsQ0FBQztRQUMvRSxNQUFNLGNBQWMsR0FBRyxvQkFBb0IsRUFBRSxDQUFDO1FBQzlDLE1BQU0sUUFBUSxHQUFHLGNBQWMsQ0FBQyxRQUFRLENBQUMsS0FBSyxFQUFFLE1BQU0sQ0FBQyxDQUFDO1FBQ3hELE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQyxvQkFBb0IsQ0FBQyxLQUFLLEVBQUUsSUFBSSxDQUFDLFNBQVMsQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDO1FBQ2hFLE1BQU0sQ0FBQyxRQUFRLENBQUMsQ0FBQyxPQUFPLENBQUMsTUFBTSxDQUFDLENBQUM7SUFDbkMsQ0FBQyxDQUFDLENBQUM7SUFFSCxFQUFFLENBQUMsa0JBQWtCLEVBQUUsR0FBRyxFQUFFO1FBQzFCLE1BQU0sR0FBRyxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUMsY0FBYyxFQUFFLFNBQVMsQ0FBQyxDQUFDLGtCQUFrQixDQUFDLEdBQUcsRUFBRSxDQUFDLG9CQUFvQixDQUFDLENBQUM7UUFDakcsTUFBTSxjQUFjLEdBQUcsb0JBQW9CLEVBQUUsQ0FBQztRQUM5QyxNQUFNLEtBQUssR0FBRyxjQUFjLENBQUMsUUFBUSxDQUFDLEtBQUssQ0FBQyxDQUFDO1FBQzdDLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQyxvQkFBb0IsQ0FBQyxLQUFLLENBQUMsQ0FBQztRQUN4QyxNQUFNLENBQUMsS0FBSyxDQUFDLENBQUMsT0FBTyxDQUFDLEVBQUUsSUFBSSxFQUFFLE1BQU0sRUFBRSxDQUFDLENBQUM7SUFDMUMsQ0FBQyxDQUFDLENBQUM7QUFDTCxDQUFDLENBQUMsQ0FBQyIsIm5hbWVzIjpbXSwic291cmNlcyI6WyIvaG9tZS9zdGVmYW4vRG9jdW1lbnRzL3Byb2plY3RzL0hvQS9zdG9yYWdlL3Byb2plY3RzL25nbmVhdC9zdG9yYWdlL3NyYy9saWIvc2Vzc2lvblN0b3JhZ2VNYW5hZ2VyLnNwZWMudHMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgU2Vzc2lvblN0b3JhZ2VNYW5hZ2VyIH0gZnJvbSBcIi4vc2Vzc2lvblN0b3JhZ2VNYW5hZ2VyXCI7XG5cbnR5cGUgUGVyc29uID0ge1xuICBuYW1lOiBzdHJpbmc7XG4gIHBob25lOiB7XG4gICAgbnVtOiBudW1iZXI7XG4gICAgcHJlZml4OiBudW1iZXI7XG4gIH07XG59O1xuXG5jb25zdCBjcmVhdGVTdG9yYWdlTWFuYWdlciA9ICgpID0+IHtcbiAgcmV0dXJuIG5ldyBTZXNzaW9uU3RvcmFnZU1hbmFnZXI8UGVyc29uPigpO1xufTtcblxuZGVzY3JpYmUoJ1Nlc3Npb25TdG9yYWdlTWFuYWdlcicsICgpID0+IHtcbiAgaXQoJ3Nob3VsZCBzZXQgdmFsdWUnLCAoKSA9PiB7XG4gICAgY29uc3QgcGVyc29uID0geyBuYW1lOiAnZXdhbicsIHBob25lOiB7IG51bTogNTU1MDE1MywgcHJlZml4OiAyODggfSB9O1xuICAgIGNvbnN0IHNweSA9IGplc3Quc3B5T24oc2Vzc2lvblN0b3JhZ2UsICdzZXRJdGVtJykubW9ja0ltcGxlbWVudGF0aW9uKCgpID0+IHt9KTtcbiAgICBjb25zdCBzdG9yYWdlTWFuYWdlciA9IGNyZWF0ZVN0b3JhZ2VNYW5hZ2VyKCk7XG4gICAgY29uc3QgcmVzcG9uc2UgPSBzdG9yYWdlTWFuYWdlci5zZXRWYWx1ZSgna2V5JywgcGVyc29uKTtcbiAgICBleHBlY3Qoc3B5KS50b0hhdmVCZWVuQ2FsbGVkV2l0aCgna2V5JywgSlNPTi5zdHJpbmdpZnkocGVyc29uKSk7XG4gICAgZXhwZWN0KHJlc3BvbnNlKS50b0VxdWFsKHBlcnNvbik7XG4gIH0pO1xuXG4gIGl0KCdzaG91bGQgZ2V0IHZhbHVlJywgKCkgPT4ge1xuICAgIGNvbnN0IHNweSA9IGplc3Quc3B5T24oc2Vzc2lvblN0b3JhZ2UsICdnZXRJdGVtJykubW9ja0ltcGxlbWVudGF0aW9uKCgpID0+ICd7IFwibmFtZVwiOiBcImV3YW5cIiB9Jyk7XG4gICAgY29uc3Qgc3RvcmFnZU1hbmFnZXIgPSBjcmVhdGVTdG9yYWdlTWFuYWdlcigpO1xuICAgIGNvbnN0IHZhbHVlID0gc3RvcmFnZU1hbmFnZXIuZ2V0VmFsdWUoJ2tleScpO1xuICAgIGV4cGVjdChzcHkpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKCdrZXknKTtcbiAgICBleHBlY3QodmFsdWUpLnRvRXF1YWwoeyBuYW1lOiAnZXdhbicgfSk7XG4gIH0pO1xufSk7XG4iXSwidmVyc2lvbiI6M30=